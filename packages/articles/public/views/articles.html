<div data-ng-controller="articles-controller">
  <section class="container-fluid  custom-container-fluid">
    <div class="row well custom-row-well">
      <b class=""> <a class="text-primary" href="#!/superadminlogin">Dashboard</a> / Articles</b>
      <b class="pull-right"><a href="" ng-click="goToCreate();" title="Create an article" tooltip-placement="bottom"  tooltip-trigger="mouseenter">Create One</a> ? </b>
    </div>
    <spinner name="articleSpinner" on-loaded="getArticleForAdmin(9, 1)">
      <div data-ng-include="'/articles/views/spinner.html'" ></div> 
    </spinner>
    <div ng-show="showArticle">
      <div class="row well custom-row-well"> 
        <div class="article-pagination">
            <uib-pagination total-items="totalArticles" ng-model="currentPage" items-per-page="limit" max-size="maxSize" class="pagination-sm" boundary-links="true" rotate="false" ng-click = "pageChanged()"></uib-pagination>
        </div>
        <div class="row margin-b-2">
          <div ng-repeat="article in articles">
            <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4 outer-article-height">
              <div class="inner-article-height">
                <img class="img-responsive thumbnail image-article" ng-src="{{article.images.mediumImageUrl || 'system/assets/img/articles/imageUnawailable.jpg'}}" alt="Not found">
                <a class="image-article-title" href="" data-toggle="tooltip" title = "{{article.title}}" ng-bind="article.title | characters:50 :true"></a><br>
                <span class="image-article-time"><img  ng-src="articles/assets/img/time.png" alt=""><span class="date-time" ng-bind="article.updatedAt | date : 'MMM d, y h:mm:ss a'"></span></span><br>
                <span class="image-article-author"><img  ng-src="articles/assets/img/user.png" alt=""><span class="date-time" ng-bind="article.authorName || 'Not found'"></span></span>
                <p class="image-article-characters" ng-bind="(article.artDescription) | characters:180 :true"></p>
              </div>
                <a href="" class="pull-right" ng-click="viewFullArticle(article)" title="Read full article" data-toggle="modal" data-target="#viewArticleModal">...more</a>
                <select ng-disabled="getUsetype == 'editor'" class="publish-article" ng-model="userType" ng-change="publishArticle(article, userType);">
                  <option value="">---Publish---</option>
                  <option value="all">All</option> 
                  <option value="individual">Individual</option>
                  <option value="professional">Professional</option>
                </select>
                <input type="button"  class="btn btn-xs btn-success" value="Edit" ng-click="editArticle(article, article.description);" title="Edit Article">
                <input type="button"  class="btn btn-xs btn-danger" ng-click="removeArticle(article);" title="Delete Article" value="Delete">
                <i ng-show="article.isPublished" class="glyphicon glyphicon-ok published-article" title="This article is published."></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div style="border-radius:1px;" class="modal fade" id="viewArticleModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-body">
            <div class="panel panel-primary">
              <div class="panel-heading">
                <h3 class="panel-title"> Date : <span ng-bind = "currentSelectedArticle.updatedAt | date : 'MMM d, y'"></span> </h3>
              </div>
               <div class="panel-body">
                <h3 class="single">
                  <span ng-bind="currentSelectedArticle.title"></span>
                  <div class="metadata">
                    By <a href="" title="{{currentSelectedArticle.authorName}}" ng-bind="currentSelectedArticle.authorName"></a> on <span ng-bind="currentSelectedArticle.updatedAt | date : 'MMM d, y h:mm:ss a'"></span>    
                  </div>
                </h3>
                <div class="single col-lg-12" style="margin-left:-15px; margin-right:-15px;">
                  <img width="100%" height="350" ng-if="currentSelectedArticle.images.largeImageUrl != undefined" src="{{currentSelectedArticle.images.largeImageUrl}}" alt=""/>
                  <br>  
                  <em ng-bind="currentSelectedArticle.images.title"></em>
                  <br>

                  <h5><a href="" ng-click="showAudioPlayer = !showAudioPlayer;">Click here to watch the <b>audio</b>!</a></h5>
                  <div class="col-lg-6"> 
                    <div ng-if="showAudioPlayer && currentSelectedArticle.audios != null" youtubeaudios code="{{currentSelectedArticle.audios.sourceURL}}"></div>
                  </div>
                  <div class="col-lg-6" ng-if="showAudioPlayer && currentSelectedArticle.audios != null">
                    <a href="" ng-click="showVideoDetail = !showVideoDetail;">&nbsp;&nbsp;&nbsp;More about video..</a><br><br>
                    <span ng-show="showVideoDetail" style = "font-size:11px;font-family: Adelle, Arial, Helvetica, sans-serif;">
                      <b><span class="col-md-4">Published date</span><span class = "col-md-1">:</span> </b><span class="col-md-7" style = "color:#0950AD" ng-bind = "(currentSelectedArticle.audios.publishedDate | date : 'MMM d, y h:mm:ss a') || '--------'"></span><br>
                      <b> <span class="col-md-4">Title</span><span class = "col-md-1">:</span> </b><span class="col-md-7" style = "color:#0950AD" ng-bind = "currentSelectedArticle.audios.title"></span><br>
                      <b> <span class="col-md-4">Auther name</span><span class = "col-md-1">:</span> </b><span class="col-md-7" style = "color:#0950AD" ng-bind = "currentSelectedArticle.audios.authorName || '--------'"></span><br>
                      <b> <span class="col-md-4">Source URL</span><span class = "col-md-1">:</span></b><span class="col-md-7" style = "color:#0950AD" ng-bind = "currentSelectedArticle.audios.sourceURL"></span><br>
                      <b> <span class="col-md-4">Cloud URL</span><span class = "col-md-1">:</span></b><span class="col-md-7" style = "color:#0950AD" ng-bind = "currentSelectedArticle.audios.cloudURL || '--------'"></span><br>
                      <b> <span class="col-md-4">Sort description</span><span class = "col-md-1">:</span></b><span class="col-md-7" style = "color:#0950AD" ng-bind = "currentSelectedArticle.audios.sortDescription"></span>
                    </span>
                  </div>
                  <center class="col-lg-12" ng-show="showAudioPlayer && currentSelectedArticle.audios == null" ><span style="color:red;"><b>No audio article found</b></span></center>
                  <div class="col-lg-12" style="margin-left:-15px;">
                    <h5><a href="" ng-click="showVideoPlayer = !showVideoPlayer;">Click here to watch the <b>video</b>!</a></h5>
                  </div>
                  <div class="col-lg-6">
                    <div ng-if="showVideoPlayer && currentSelectedArticle.videos != null" youtubevideos code="{{currentSelectedArticle.videos.sourceURL}}"></div>
                  </div>
                  <div class="col-lg-6" ng-if="showVideoPlayer && currentSelectedArticle.videos != null">
                    <a href="" ng-click="showVideoDetail = !showVideoDetail;">&nbsp;&nbsp;&nbsp;More about video..</a><br><br>
                    <span ng-show="showVideoDetail" style = "font-size:11px;font-family: Adelle, Arial, Helvetica, sans-serif;">
                      <b><span class="col-md-4">Published date</span><span class = "col-md-1">:</span> </b><span class="col-md-7" style = "color:#0950AD" ng-bind = "(currentSelectedArticle.videos.publishedDate | date : 'MMM d, y h:mm:ss a') || '--------'"></span><br>
                      <b> <span class="col-md-4">Title</span><span class = "col-md-1">:</span> </b><span class="col-md-7" style = "color:#0950AD" ng-bind = "currentSelectedArticle.videos.title"></span><br>
                      <b> <span class="col-md-4">Auther name</span><span class = "col-md-1">:</span> </b><span class="col-md-7" style = "color:#0950AD" ng-bind = "currentSelectedArticle.videos.authorName || '--------'"></span><br>
                      <b> <span class="col-md-4">Source URL</span><span class = "col-md-1">:</span></b><span class="col-md-7" style = "color:#0950AD" ng-bind = "currentSelectedArticle.videos.sourceURL"></span><br>
                      <b> <span class="col-md-4">Cloud URL</span><span class = "col-md-1">:</span></b><span class="col-md-7" style = "color:#0950AD" ng-bind = "currentSelectedArticle.videos.cloudURL || '--------'"></span><br>
                      <b> <span class="col-md-4">Sort description</span><span class = "col-md-1">:</span></b><span class="col-md-7" style = "color:#0950AD" ng-bind = "currentSelectedArticle.videos.sortDescription"></span>
                    </span>
                  </div>
                  <center class="col-lg-12" ng-show="showVideoPlayer && currentSelectedArticle.videos == null" ><span style="color:red;"><b>No video article found</b></span></center>
                </div>
                <p>------------------------------------------------------------------------------------------------------------------------</p>
                <p ng-bind-html="currentSelectedArticle.description"></p>
              </div>
              <button style="margin-top:3px; border-radius:5px;" type="button" class="btn btn-sm btn-danger pull-right" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
